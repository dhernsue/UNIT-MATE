<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Manifest link -->
  <link rel="manifest" href="manifest.json">

  <!-- Theme color -->
  <meta name="theme-color" content="#0f172a">

  <!-- Empty title (no extra text on top) -->
  <title> </title>

  <style>
    body {
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background:#1e1b4b;
      margin:0;
      font-family:Segoe UI,Arial;
    }
    .app {width:100%;max-width:420px;background:#111;padding:14px;display:flex;flex-direction:column;gap:12px;border-radius:20px;box-shadow:0 0 30px rgba(0,0,0,0.8);}
    .total {background:#000;padding:20px;border-radius:18px;font-size:22px;font-weight:bold;line-height:1.6em;color:#fff;}
    .total .title{color:#fff;font-size:22px;display:block;margin-bottom:6px;}
    .total .meter{color:#00ffff;display:block;font-size:20px;}
    .total .inch{color:#00ff00;display:block;font-size:20px;}
    .tabs{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;}
    .tab{padding:14px;font-weight:600;border-radius:12px;border:0;color:#fff;background:#333;font-size:16px;transition:0.25s;}
    .tab.active{background:linear-gradient(45deg,#06f,#0ff);}
    .display{background:#000;padding:16px;border-radius:14px;min-height:80px;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;box-shadow:inset 0 0 12px rgba(255,255,255,0.1);}
    .trail{font-size:18px;color:#ccc;text-align:right;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .value{font-size:26px;font-weight:bold;color:#00ff00;text-align:right;}
    .pad{flex:1;display:grid;grid-template-columns:repeat(4,1fr);gap:10px;align-content:start;}
    .key{border:0;padding:20px;font-size:22px;font-weight:bold;border-radius:14px;background:#1e293b;color:#fff;transition:0.2s;}
    .key:hover{background:#334155;}
    .key.danger{background:linear-gradient(45deg,#ff1466,#ff4b2b);}
    .key.equal{background:linear-gradient(45deg,#00ffcc,#00ff66);color:#000;}
  </style>
</head>
<body>
  <div class="app">

    <!-- TOTAL Screen -->
    <div class="total" id="total">
      <span class="title">TOTAL</span>
      <span class="meter">Meter: <span class="num">0</span></span>
      <span class="inch">Inch: <span class="num">0</span></span>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tab active" data-unit="mm">mm</button>
      <button class="tab" data-unit="inch">Inch</button>
      <button class="tab" data-unit="foot">Foot</button>
      <button class="tab" data-unit="meter">Meter</button>
    </div>

    <!-- Display -->
    <div class="display">
      <div class="trail" id="trail">0</div>
      <div class="value" id="value">0</div>
    </div>

    <!-- Keypad -->
    <div class="pad">
      <button class="key danger" data-act="ac">AC</button>
      <button class="key" data-act="mul">×</button>
      <button class="key" data-act="div">÷</button>
      <button class="key" data-act="sub">-</button>

      <button class="key" data-num="7">7</button>
      <button class="key" data-num="8">8</button>
      <button class="key" data-num="9">9</button>
      <button class="key" data-act="add">+</button>

      <button class="key" data-num="4">4</button>
      <button class="key" data-num="5">5</button>
      <button class="key" data-num="6">6</button>
      <button class="key equal" data-act="eq">=</button>

      <button class="key" data-num="1">1</button>
      <button class="key" data-num="2">2</button>
      <button class="key" data-num="3">3</button>
      <button class="key" data-act="back">⌫</button>

      <button class="key" data-num="0">0</button>
      <button class="key" data-num=".">.</button>
    </div>
  </div>

  <script>
    const conv = {
      mm:{toM:v=>v/1000,fromM:v=>v*1000},
      inch:{toM:v=>v*0.0254,fromM:v=>v/0.0254},
      foot:{toM:v=>v*0.3048,fromM:v=>v/0.3048},
      meter:{toM:v=>v,fromM:v=>v}
    };
    let trailEl=document.getElementById("trail");
    let valueEl=document.getElementById("value");
    let meterEl=document.querySelector(".meter .num");
    let inchEl=document.querySelector(".inch .num");
    let current="",trail="",unit="mm";

    function updateDisplay(){
      trailEl.textContent=trail||"0";
      valueEl.textContent=current||"0";
      let val=parseFloat(current)||0;
      let meter=conv[unit].toM(val);
      meterEl.textContent=meter.toFixed(2);
      inchEl.textContent=conv.inch.fromM(meter).toFixed(2);
    }
    document.querySelectorAll(".key").forEach(k=>{
      k.addEventListener("click",()=>{
        let act=k.dataset.act,num=k.dataset.num;
        if(num!==undefined){current+=num;}
        else if(act==="ac"){current="";trail="";}
        else if(act==="back"){current=current.slice(0,-1);}
        else if(act==="eq"){try{current=eval(trail+current).toString();trail="";}catch{current="Error";}}
        else{trail+=current+({add:"+",sub:"-",mul:"*",div:"/"}[act]||"");current="";}
        updateDisplay();
      });
    });
    document.querySelectorAll(".tab").forEach(t=>{
      t.addEventListener("click",()=>{
        document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
        t.classList.add("active");
        unit=t.dataset.unit;
        updateDisplay();
      });
    });
    updateDisplay();
  </script>
</body>
</html>
